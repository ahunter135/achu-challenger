<app-header-card></app-header-card>
<ion-content [fullscreen]="true">
  <!--
    Find a better way for this use divs as "views"
  -->
  <div id="today-view" [hidden]="!(currentNav == 'today')">
    <ion-segment (ionChange)="segmentChanged($event)" class="home-bar" [(ngModel)]="homeBar">
      <ion-segment-button value="today">
        <ion-label>Today</ion-label>
      </ion-segment-button>
      <ion-segment-button value="notifications">
        <ion-label>Notifications</ion-label>
      </ion-segment-button>
    </ion-segment>

    <ion-card class="goal-card">
      <ion-card-header style="padding-bottom: 0 !important">
        <ion-card-subtitle style="color: black; text-decoration: none;">Daily Goals</ion-card-subtitle>
        <ion-card-subtitle style="color: #555555; font-size: 10px;">Jeff is your personal
          goal-driven avatar who adapts
          to
          your own
          personal health status. Jeff is driven by your consistency in achieving your personalized goals to ensure you
          stay motivated in your journey.
        </ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <div class="flex-container">
          <div class="bars-container">
            <div class="bar">
              <ion-text style="font-size: 12px; font-weight: bold; float: left">
                Steps
              </ion-text>
              <ion-text style="font-size: 12px; float: right">{{stepsProgress}} / 100
              </ion-text>
              <ion-progress-bar value="{{stepsProgressBar}}" reversed="false" color="primary">
              </ion-progress-bar>
            </div>
            <div class="bar">
              <ion-text style="font-size: 12px; font-weight: bold; float: left">
                Calories
              </ion-text>
              <ion-text style="font-size: 12px; float: right">{{caloriesProgress}} /
                100
              </ion-text>
              <ion-progress-bar value="{{caloriesProgressBar}}" reversed="false" color="primary">
              </ion-progress-bar>
            </div>
            <div class="bar">
              <ion-text style="font-size: 12px; font-weight: bold; float: left">
                Sleep
              </ion-text>
              <ion-text style="font-size: 12px; float: right">{{sleepProgress}} /
                100
              </ion-text>
              <ion-progress-bar value="{{sleepProgressBar}}" reversed="false" color="primary">
              </ion-progress-bar>
            </div>
            <div class="bar">
              <ion-text style="font-size: 12px; font-weight: bold; float: left">
                Exercise
              </ion-text>
              <ion-text style="font-size: 12px; float: right">{{exerciseProgress}} /
                100
              </ion-text>
              <ion-progress-bar value="{{exerciseProgressBar}}" reversed="false" color="primary">
              </ion-progress-bar>
            </div>
          </div>
          <div class="character-container">
            <img src="../../assets/images/Character.svg" style="height: 50%">
          </div>
        </div>
      </ion-card-content>
    </ion-card>
    <ion-card class="overall-goal-card">
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <ion-text style="font-size: 12px; font-weight: bold; float: left">
              Overall Goal Completion
            </ion-text>
          </ion-col>
          <ion-progress-bar value="{{overallCompletionBar}}" reversed="false" color="primary-overall-goal">
          </ion-progress-bar>
          <ion-col size="12">
            <ion-text style="font-size: 12px; float: right">{{overallCompletion}} /
              100
            </ion-text>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card>

    <ion-card class="heart-rate-card">
      <ion-button fill="clear" style="float: right;">
        <ion-icon slot="icon-only" name="information-circle" size="small" style="color: #cfcfcf"></ion-icon>
      </ion-button>
      <ion-card-header>
        <ion-card-subtitle style="color: black">Workout HR Zones</ion-card-subtitle>
        <ion-card-subtitle style="color: #555555; text-decoration: none;">Your HR Trend shows a moderate similarity in
          your fatigue trends
          from
          your last 4 days
        </ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <canvas #lineCanvas style="width: 100%; height: 40%;"></canvas>
        <br>
        <ion-grid>
          <ion-row class="inner-rows">
            <ion-col size="7">
              <ion-text style="font-size: 10px; display: block; vertical-align: middle;"><span
                  style="font-weight: bold">Fat Burning:</span> {{HRZones[2] | time}}
              </ion-text>
            </ion-col>
            <ion-col size="5">
              <ion-progress-bar value="{{HRZones[2] / 100}}" color="fat-burning"></ion-progress-bar>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="7">
              <ion-text style="font-size: 10px; display: block; vertical-align: middle;"><span
                  style="font-weight: bold">Cardio:</span> {{HRZones[1] | time}}
              </ion-text>
            </ion-col>
            <ion-col size="5">
              <ion-progress-bar value="{{HRZones[1] / 100}}" color="cardio"></ion-progress-bar>
            </ion-col>
          </ion-row>
          <ion-row class="inner-rows">
            <ion-col size="7">
              <ion-text style="font-size: 10px; display: block; vertical-align: middle;"><span
                  style="font-weight: bold">Peak:</span> {{HRZones[0] | time}}
              </ion-text>
            </ion-col>
            <ion-col size="5">
              <ion-progress-bar value="{{HRZones[0] / 100}}" color="peak"></ion-progress-bar>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="4">
              <ion-text style="font-size: 8px; display: block; vertical-align: middle;"><span
                  style="font-weight: bold">Fat Burning:</span> 1 min = 1 min
              </ion-text>
            </ion-col>
            <ion-col size="4">
              <ion-text style="font-size: 8px; display: block; vertical-align: middle;"><span
                  style="font-weight: bold">Cardio:</span> 1 min = 2 min
              </ion-text>
            </ion-col>
            <ion-col size="4">
              <ion-text style="font-size: 8px; display: block; vertical-align: middle;"><span
                  style="font-weight: bold">Peak:</span> 1 min = 2 min
              </ion-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>
    <ion-item lines="none" class="item-text title-text">
      <ion-label>Health Updates</ion-label>
    </ion-item>
    <ion-card>
      <ion-card-header>
        <ion-card-subtitle style="color: black; text-decoration: none;">Stress</ion-card-subtitle>
        <ion-card-subtitle style="color: #555555; text-decoration: none;">Your recent trend in health data suggests an
          x% correlatioin to those
          of the last time you reported feeling stressed
        </ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-range pin="false" class="stress-health-updates" value="{{stressScore}}" disabled></ion-range>
        <!-- <br> -->
        <ion-grid fixed>
          <ion-row class="ion-justify-content-center">
            <ion-col size="4">
              <ion-text style="font-size: 9px; float: left; white-space: nowrap">Good: <ion-icon name="ellipse"
                  class="good"></ion-icon>
              </ion-text>
            </ion-col>
            <ion-col size="4">
              <ion-text style="font-size: 9px; float: left; white-space: nowrap">Moderate: <ion-icon name="ellipse"
                  class="moderate">
                </ion-icon>
              </ion-text>
            </ion-col>
            <ion-col size="4">
              <ion-text style="font-size: 9px; float: left; white-space: nowrap">At Risk: <ion-icon name="ellipse"
                  class="risk"></ion-icon>
              </ion-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-subtitle style="color: black; text-decoration: none;">Fatigue</ion-card-subtitle>
        <ion-card-subtitle style="color: #555555; text-decoration: none;">Your recent trend in health data suggests an
          x% correlation to those
          of the last time you reported feeling fatigued
        </ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-range pin="false" class="fatigue-health-updates" value="{{fatigueScore}}" disabled></ion-range>
        <!-- <br> -->
        <ion-grid fixed>
          <ion-row class="ion-justify-content-center">
            <ion-col size="4">
              <ion-text style="font-size: 9px; float: left; white-space: nowrap">Good: <ion-icon name="ellipse"
                  class="good"></ion-icon>
              </ion-text>
            </ion-col>
            <ion-col size="4">
              <ion-text style="font-size: 9px; float: left; white-space: nowrap">Moderate: <ion-icon name="ellipse"
                  class="moderate">
                </ion-icon>
              </ion-text>
            </ion-col>
            <ion-col size="4">
              <ion-text style="font-size: 9px; float: left; white-space: nowrap">At Risk: <ion-icon name="ellipse"
                  class="risk"></ion-icon>
              </ion-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

  </div>
  <div id="stats-view" [hidden]="!(currentNav == 'stats')">
    <app-my-stats></app-my-stats>
  </div>
  <div id="competition-view" [hidden]="!(currentNav == 'competition')">
    <app-stats-page></app-stats-page>
  </div>
  <div id="settings-view" [hidden]="!(currentNav == 'settings')">
    <app-settings></app-settings>
  </div>

</ion-content>
<ion-fab vertical="bottom" horizontal="end" slot="fixed" class="fab-btn" (click)="openDailyCheckup()">
  <ion-fab-button size="small">
    <ion-icon name="clipboard-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>

<!--
  Start Nav Bar
-->
<ion-segment (ionChange)="navChanged($event)" class="nav-bar-container" [(ngModel)]="navBar">
  <ion-segment-button value="today" icon-top>
    <ion-icon name="ellipse" *ngIf="navBar == 'today'"></ion-icon>
    <ion-label>Today</ion-label>
  </ion-segment-button>
  <ion-segment-button value="stats" icon-top>
    <ion-icon name="ellipse" *ngIf="navBar == 'stats'"></ion-icon>
    <ion-label>Stats</ion-label>
  </ion-segment-button>
  <ion-segment-button value="competition" icon-top>
    <ion-icon name="ellipse" *ngIf="navBar == 'competition'"></ion-icon>
    <ion-label>Competition</ion-label>
  </ion-segment-button>
  <ion-segment-button value="settings" icon-top>
    <ion-icon name="ellipse" *ngIf="navBar == 'settings'"></ion-icon>
    <ion-label>Settings</ion-label>
  </ion-segment-button>
</ion-segment>